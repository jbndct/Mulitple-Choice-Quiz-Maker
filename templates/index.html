<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Quiz Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>AI Quiz Generator</h1>
        
        <div class="mode-switcher" id="mode-switcher">
            <button id="mode-upload-btn" class="active">Upload File</button>
            <button id="mode-manual-btn">Enter Text</button>
        </div>
        
        <p id="upload-p">Upload your lecture notes (PDF, TXT) and get a quiz in seconds.</p>
        <p id="manual-p" class="hidden">Paste your questions below and we'll format them into an interactive quiz.</p>
        
        <form id="upload-form">
            <div id="upload-mode-container">
                <input type="file" id="file-input" name="file" accept=".pdf,.txt,.docx">
                <div class="input-group">
                    <label for="num-questions">Number of Questions to Generate (Max: 30):</label>
                    <input type="number" id="num-questions" name="num_questions" value="5" min="1" max="30">
                </div>
            </div>

            <div id="manual-mode-container" class="hidden">
                 <textarea id="raw-text-input" name="raw_text" rows="10" placeholder="Paste your quiz here... e.g.&#10;1. What is the capital of France?&#10;A. London&#10;B. Paris*&#10;C. Berlin&#10;D. Madrid"></textarea>
            </div>

            <button type="submit" id="main-action-btn">Generate Quiz</button>
        </form>

        <div class="loader-container hidden">
            <div class="book">
                <div class="book__pg-shadow"></div>
                <div class="book__pg"></div>
                <div class="book__pg book__pg--2"></div>
                <div class="book__pg book__pg--3"></div>
                <div class="book__pg book__pg--4"></div>
                <div class="book__pg book__pg--5"></div>
            </div>
            <p id="loader-text">Generating your quiz, please wait...</p>
        </div>

        <div id="quiz-container" class="hidden">
            <p id="question-text"></p>
            <div id="options-container"></div>
            <button id="next-btn">Next Question</button>
            <p id="feedback-text"></p>
        </div>

        <div id="results-container" class="hidden">
            <h2>Quiz Complete!</h2>
            <p>Your score: <span id="score"></span></p>
            <button id="regenerate-btn">Regenerate Quiz</button>
            <button id="restart-btn">Try Another File</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>